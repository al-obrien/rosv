<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Connect, query, and operate on information available from the 
    Open Source Vulnerability database. Although CRAN has vulnerabilities 
    listed, these are few compared to projects such as PyPI. With tighter 
    integrations between R and Python, having an R specific package to access 
    details about vulnerabilities from various sources is a worthwhile enterprise.">
<title>Client to Access and Operate on the Open Source Vulnerability API â€¢ rosv</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Client to Access and Operate on the Open Source Vulnerability API">
<meta property="og:description" content="Connect, query, and operate on information available from the 
    Open Source Vulnerability database. Although CRAN has vulnerabilities 
    listed, these are few compared to projects such as PyPI. With tighter 
    integrations between R and Python, having an R specific package to access 
    details about vulnerabilities from various sources is a worthwhile enterprise.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rosv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/al-obrien/rosv/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rosv">rosv<a class="anchor" aria-label="anchor" href="#rosv"></a>
</h1></div>
<!-- badges: start -->

<p>Use R to query the <a href="https://osv.dev/" class="external-link">Open Source Vulnerability (OSV) database</a>. This can be useful to cross check the database with packages used in <code>requirements.txt</code> (python) or <code>renv.lock</code> files (R). The generated content can also be used to create block lists for curated repositories with Posit Package Manager. More details about the OSV project and associated API can be found here: <a href="https://google.github.io/osv.dev/" class="external-link uri">https://google.github.io/osv.dev/</a></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install {rosv} only from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'al-obrien/rosv'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-examples">Basic Examples<a class="anchor" aria-label="anchor" href="#basic-examples"></a>
</h2>
<div class="section level3">
<h3 id="detect-vulnerable-packages">Detect vulnerable packages<a class="anchor" aria-label="anchor" href="#detect-vulnerable-packages"></a>
</h3>
<p>One of the simplest queries is to provide a package and ecosystem and return a <code>TRUE</code>/<code>FALSE</code> response informing you if that package has ever been listed with a vulnerability.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://al-obrien.github.io/rosv/">rosv</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/is_pkg_vulnerable.html">is_pkg_vulnerable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'dask'</span>, <span class="st">'dash'</span><span class="op">)</span>, ecosystem <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'PyPI'</span>, <span class="st">'PyPI'</span><span class="op">)</span>, cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;  dask  dash </span></span>
<span><span class="co">#&gt;  TRUE FALSE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="list-package-vulnerabilities">List package vulnerabilities<a class="anchor" aria-label="anchor" href="#list-package-vulnerabilities"></a>
</h3>
<p>The most basic usage of {rosv} is to pull all versions of PyPI or CRAN packages listed on the OSV database using high-level functions such as <code><a href="reference/osv_query.html">osv_query()</a></code> and <code><a href="reference/create_osv_list.html">create_osv_list()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Query one package in PyPI for vulnerabilities</span></span>
<span><span class="va">pkg_vul</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/osv_query.html">osv_query</a></span><span class="op">(</span><span class="st">'dask'</span>, ecosystem <span class="op">=</span> <span class="st">'PyPI'</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/create_osv_list.html">create_osv_list</a></span><span class="op">(</span><span class="va">pkg_vul</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pull the entire set of PyPI vulnerability data</span></span>
<span><span class="va">pypi_vul</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_osv_list.html">create_osv_list</a></span><span class="op">(</span>ecosystem <span class="op">=</span> <span class="st">'PyPI'</span><span class="op">)</span></span>
<span><span class="va">pypi_vul</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="use-api-helpers-directly">Use API helpers directly<a class="anchor" aria-label="anchor" href="#use-api-helpers-directly"></a>
</h2>
<p>Lower-level functionality is available to return more details about the API request and response contained within the R6 object. These are more flexible than their higher-level alternatives. By default, the results of these functions will be cached using {memoise}. This can be overriden by specifying <code>cache = FALSE</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Returns entire response object to parse as you please.</span></span>
<span><span class="fu"><a href="reference/osv_query_1.html">osv_query_1</a></span><span class="op">(</span><span class="st">'dask'</span>, ecosystem <span class="op">=</span> <span class="st">'PyPI'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Returns the vulnerability IDs for packages in list</span></span>
<span><span class="fu"><a href="reference/osv_querybatch.html">osv_querybatch</a></span><span class="op">(</span><span class="st">'dask'</span>, ecosystem <span class="op">=</span> <span class="st">'PyPI'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Return vulnerabilities from different ecosystems as vectors</span></span>
<span><span class="fu"><a href="reference/osv_querybatch.html">osv_querybatch</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'dask'</span>, <span class="st">'readxl'</span><span class="op">)</span>, ecosystem <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'PyPI'</span>, <span class="st">'CRAN'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Grab details by vulns ID</span></span>
<span><span class="fu"><a href="reference/osv_vulns.html">osv_vulns</a></span><span class="op">(</span><span class="st">'PYSEC-2021-387'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear cache, if needed</span></span>
<span><span class="fu"><a href="reference/clear_osv_cache.html">clear_osv_cache</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-a-cross-referenced-whitelist">Creating a cross-referenced whitelist<a class="anchor" aria-label="anchor" href="#creating-a-cross-referenced-whitelist"></a>
</h2>
<p>When using a product such as {miniCRAN} or Posit Package Manager, there may be corporate requirements to limit what packages users can install. Although having a whitelist is often recommended, it should either specify the exact versions that are approved or exclude packages with known vulnerabilities. Given the amount of packages and versions, this is often difficult. The following method will take a vector of packages (from PyPI) and cross-reference against the OSV database. If packages are identified they are either entirely dropped, or the specific versions with flagged vulnerabilities are excluded.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List of packages of interest</span></span>
<span><span class="va">python_pkg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'dask'</span>, <span class="st">'tensorflow'</span>, <span class="st">'keras'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the xref whitelist</span></span>
<span><span class="va">pypi_vul</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_osv_list.html">create_osv_list</a></span><span class="op">(</span>as.data.frame <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">xref_pkg_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_ppm_xref_whitelist.html">create_ppm_xref_whitelist</a></span><span class="op">(</span><span class="va">python_pkg</span>, <span class="va">pypi_vul</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Output requirements.txt which can be used with PPM product</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">xref_pkg_list</span>, <span class="st">'requirements.txt'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="development-notes">Development notes<a class="anchor" aria-label="anchor" href="#development-notes"></a>
</h2>
<p>{rosv} is still a young project. There are plans to extend its use. Currently it uses R6 classes for its lower-level interface to the OSV API. Pagination functionality will be added once it is offered by {httr2}, which at time of writing is available but experimental. There are also plans to have more types of returned details, such as returning just the version input for functions like <code><a href="reference/osv_query.html">osv_query()</a></code>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/al-obrien/rosv/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rosv</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Allen OBrien <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/al-obrien/rosv/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/al-obrien/rosv/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/al-obrien/rosv?branch=master" class="external-link"><img src="https://codecov.io/gh/al-obrien/rosv/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Allen OBrien.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
